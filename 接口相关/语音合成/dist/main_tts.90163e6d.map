{"version":3,"sources":["js\\main_tts.js"],"names":["audio","tts","text","btts","tex","tok","spd","pit","vol","per","volume","autoDestory","timeout","hidden","onInit","htmlAudioElement","onSuccess","play","onError","alert","onTimeout","pause","cancel","document","body","removeChild"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;AACA,IAAIA,QAAQ,IAAZ;;AAEA;;;;AAIA,SAASC,GAAT,CAAaC,IAAb,EAAmB;;AAEjB;AACA;AACAF,UAAQG,KAAK;AACXC,SAAKF,IADM;AAEXG,SAAK,uEAFM;AAGXC,SAAK,CAHM;AAIXC,SAAK,CAJM;AAKXC,SAAK,EALM;AAMXC,SAAK;AANM,GAAL,EAOL;AACDC,YAAQ,GADP;AAEDC,iBAAa,IAFZ;AAGDC,aAAS,KAHR;AAIDC,YAAQ,KAJP;AAKDC,YAAQ,gBAASC,gBAAT,EAA2B,CAElC,CAPA;AAQDC,eAAW,mBAASD,gBAAT,EAA2B;AACpCf,cAAQe,gBAAR;AACAE;AACD,KAXA;AAYDC,aAAS,iBAAShB,IAAT,EAAe;AACtBiB,YAAMjB,IAAN;AACD,KAdA;AAeDkB,eAAW,qBAAW;AACpBD,YAAM,SAAN;AACD;AAjBA,GAPK,CAAR;AA0BD;;AAED;AACA,SAASF,IAAT,GAAgB;AACd,MAAGjB,UAAU,IAAb,EAAmB;AACjBmB,UAAM,QAAN;AACD,GAFD,MAEO;AACLnB,UAAMiB,IAAN;AACD;AACF;;AAED;AACA,SAASI,KAAT,GAAiB;AACf,MAAGrB,UAAU,IAAb,EAAmB;AACjBmB,UAAM,QAAN;AACD,GAFD,MAEO;AACLnB,UAAMqB,KAAN;AACD;AACF;;AAED;AACA,SAASC,MAAT,GAAkB;AAChB,MAAGtB,UAAU,IAAb,EAAmB;AACjBmB,UAAM,QAAN;AACD,GAFD,MAEO;AACLnB,UAAMqB,KAAN;AACAE,aAASC,IAAT,CAAcC,WAAd,CAA0BzB,KAA1B;AACAA,YAAQ,IAAR;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"main_tts.90163e6d.map","sourceRoot":"..\\src","sourcesContent":["//import btts from \"./baidu_tts_cors\";\r\n\r\n// 初始化变量\r\nvar audio = null;\r\n\r\n/**\r\n * @desc 语音合成\r\n * @args {String} text 需要合成的文本\r\n */\r\nfunction tts(text) {\r\n\r\n  // 调用语音合成接口\r\n  // 参数含义请参考 https://ai.baidu.com/docs#/TTS-API/41ac79a6\r\n  audio = btts({\r\n    tex: text,\r\n    tok: '24.c31eedd807bdd86586bd165e1e1717c2.2592000.1530954866.282335-9496006',\r\n    spd: 5,\r\n    pit: 5,\r\n    vol: 15,\r\n    per: 4,\r\n  }, {\r\n    volume: 0.3,\r\n    autoDestory: true,\r\n    timeout: 10000,\r\n    hidden: false,\r\n    onInit: function(htmlAudioElement) {\r\n\r\n    },\r\n    onSuccess: function(htmlAudioElement) {\r\n      audio = htmlAudioElement;\r\n      play()\r\n    },\r\n    onError: function(text) {\r\n      alert(text)\r\n    },\r\n    onTimeout: function() {\r\n      alert('timeout')\r\n    }\r\n  });\r\n}\r\n\r\n// 播放按钮\r\nfunction play() {\r\n  if(audio === null) {\r\n    alert('请先点击合成')\r\n  } else {\r\n    audio.play();\r\n  }\r\n}\r\n\r\n// 暂停按钮\r\nfunction pause() {\r\n  if(audio === null) {\r\n    alert('请先点击合成')\r\n  } else {\r\n    audio.pause();\r\n  }\r\n}\r\n\r\n// 取消按钮\r\nfunction cancel() {\r\n  if(audio === null) {\r\n    alert('请先点击合成')\r\n  } else {\r\n    audio.pause();\r\n    document.body.removeChild(audio);\r\n    audio = null;\r\n  }\r\n}\r\n\r\n// dom加载完毕回调\r\n//function ready(callback) {\r\n//var doc = document;\r\n//if(doc.addEventListener) {\r\n//  doc.addEventListener('DOMContentLoaded', function() {\r\n//    callback();\r\n//  }, false);\r\n//} else if(doc.attachEvent) {\r\n//  doc.attachEvent('onreadystatechange', function() {\r\n//    if(doc.readyState === 'complete') {\r\n//      callback();\r\n//    }\r\n//  });\r\n//}\r\n//}\r\n\r\n//module.exports = tts"]}